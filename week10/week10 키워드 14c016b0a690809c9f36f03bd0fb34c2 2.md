# week10 키워드

## 🎯 핵심 키워드

<aside>
💡 주요 내용들을 정리하고, 여러분만의 생각을 통해 정리해보세요!

- 레퍼런스를 참고하여 정의, 속성, 장단점 등을 적어주셔도 괜찮습니다.
- 조사는 공식 홈페이지 **Best**, 블로그(최신 날짜) **Not Bad**
</aside>

- **Spring Security**
    
    Spring Security는 스프링 프레임워크의 강력한 보안 프레임워크로, 애플리케이션의 `인증(Authentication)`과 `인가(Authorization)`를 포함한 다양한 보안 기능을 제공한다.
    
    이는 웹 애플리케이션이나 API를 보호하고, 사용자 및 리소스 접근을 제어하는 데 사용된다.
    
- **인증(Authentication)과 인가(Authorization)**
    
    ## **인증(Authentication)**
    
    **인증**은 사용자 또는 시스템이 "누구인지 확인”하는 과정이다. 
    
    사용자가 애플리케이션에 접근하기 전에, 본인이 누구인지 증명하는 단계이다.
    
    ### **Spring Security에서 인증의 흐름**
    
    1. **사용자 입력**: 사용자가 ID와 비밀번호를 입력.
    2. **인증 필터**: Spring Security의 **`UsernamePasswordAuthenticationFilter`**가 이를 가로채어 처리.
    3. **AuthenticationManager**:
        - 입력받은 인증 정보를 처리.
        - 보통 **`UserDetailsService`**를 통해 사용자 정보를 확인.
        - ID와 비밀번호가 일치하면 인증 성공.
    4. **Authentication 객체**:
        - 인증 성공 시 **`Authentication`** 객체가 생성되고 **SecurityContext**에 저장됨.
    5. **SecurityContextHolder**:
        - 인증된 사용자의 세션 정보를 유지 및 관리.
    
    ### **인증이 실패하는 경우**
    
    - 비밀번호가 틀리거나, 사용자가 존재하지 않으면 Spring Security는 예외를 발생시키고 인증이 중단.
    
    ## **인가(Authorization)**
    
    **인가**는 인증된 사용자가 "어떤 리소스에 접근할 권한이 있는지 확인"하는 과정이다.
    
    즉, "이 사용자가 이 작업을 수행해도 되는가?"를 검증하는 단계.
    
    ### **Spring Security에서 인가의 흐름**
    
    1. **보안 설정**:
        - URL 기반 접근 제어: 특정 URL에 대한 접근 권한을 설정.
            
            ```java
            http.authorizeRequests()
                .antMatchers("/admin/**").hasRole("ADMIN")
                .antMatchers("/user/**").authenticated();
            ```
            
        - 메서드 기반 접근 제어: 메서드 위에 직접 접근 권한을 설정할 수도 있다.
            
            ```java
            @PreAuthorize("hasRole('ADMIN')")
            public void adminMethod() { ... }
            ```
            
    2. **AccessDecisionManager**:
        - 사용자가 요청한 리소스에 대한 권한을 확인.
        - 사용자 역할(Role)이나 권한(Permission)에 기반하여 접근을 허용 또는 거부.
    3. **결과**:
        - 권한이 있을 경우 요청을 처리.
        - 권한이 없을 경우 **`AccessDeniedException`** 발생.